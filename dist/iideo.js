!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function n(t){var e=new o.default(t),i=e.el;return/micromessenger/i.test(navigator.userAgent)&&window.addEventListener("resize",function(){i.style.width=window.innerWidth+"px",i.style.height=window.innerHeight+"px",setTimeout(function(){return e.updateFitCalc()},300)},!1),{story:e,video:i}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(4);i(5),function(t){t.StoryTeller=o.default,t.Button=r.default}(n||(n={})),"object"==typeof window&&(window.iideo=n),e.default=n},function(t,e,i){"use strict";function n(){var t=document.createElement("video");return t.setAttribute("crossOrigin","anonymous"),t.setAttribute("preload","auto"),t.setAttribute("control","false"),t.setAttribute("style","object-fit:contain;width:100%;height:100%;position:absolute;left:0;top:0"),t.setAttribute("webkit-playsinline","true"),t.setAttribute("playsinline","true"),t.setAttribute("x-webkit-airplay","allow"),t.setAttribute("x5-video-player-type","h5"),t.setAttribute("x5-video-player-fullscreen","true"),t.setAttribute("x5-video-orientation","portraint"),t}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),a=i(3),s=function(t){function e(e,i){function o(){s.play(),e.removeEventListener("click",o,!1)}var r=t.call(this)||this;r.container=e,r._canvas_mode=i,r.points=[],r._pts_actived=[],r.fitCalc=new a.default(1);var s=n();if(r.el=s,i){var c=document.createElement("canvas");c.setAttribute("style","position: absolute; left: 0; top: 0; width: 100%; height: 100%");var u=c.getContext("2d");r.canvas=c,r.cctx=u,r._canvas_repaint=r._canvas_repaint.bind(r),r._canvas_repaint()}s.addEventListener("resize",function(t){setTimeout(function(){return r.updateFitCalc()},300)},!1),s.addEventListener("timeupdate",function(t){r.process(s.currentTime)},!1),s.addEventListener("seeked",function(t){var e=s.currentTime;r.reset(!0,e),r.process(e)},!1);var l=r._mouseup.bind(r),h=r._mousedown.bind(r),d=r._mousemove.bind(r);return s.addEventListener("mouseup",l,!1),s.addEventListener("mousedown",h,!1),s.addEventListener("mousemove",d,!1),c&&(c.addEventListener("mouseup",l,!1),c.addEventListener("mousedown",h,!1),c.addEventListener("mousemove",d,!1)),e.addEventListener("click",o,!1),e.appendChild(i?c:s),"static"===getComputedStyle(e).position&&(e.style.position="relative"),r}return o(e,t),e.prototype._canvas_repaint=function(){if(this._canvas_mode){var t=this.fitCalc,e=this.el;this.cctx.drawImage(e,t.marginX,t.marginY,t.width,t.height),requestAnimationFrame(this._canvas_repaint)}},e.prototype._mouseup=function(t){var e=this.fitCalc.s2c(t.clientX,t.clientY),i=e[0],n=e[1];this.emit("tap",i,n,this,t)},e.prototype._mousedown=function(t){var e=this.fitCalc.s2c(t.clientX,t.clientY),i=e[0],n=e[1];this.emit("mousedown",i,n,this,t)},e.prototype._mousemove=function(t){var e=this.fitCalc.s2c(t.clientX,t.clientY),i=e[0],n=e[1];this.emit("mousemove",i,n,this,t)},e.prototype.updateFitCalc=function(){var t=this.el,e=this.fitCalc,i=t.videoWidth||1,n=t.videoHeight||1,o=this.container.offsetWidth,r=this.container.offsetHeight;if(e.aratio=i/n,e.fit(o,r),this._canvas_mode){var a=this.canvas;t.width=a.width=o,t.height=a.height=r}},e.prototype.reset=function(t,e){for(var i=this.points,n=this._pts_actived,o=new Array(i.length),r=0;r<i.length;r++){var a=!!n[r],s=i[r],c=s.onreset;if("function"==typeof c&&c.call(s,a,this),a&&t){this.emit("onleave",s,this,e);var u=s.onleave;"function"==typeof u&&u.call(s,e,this)}o[r]=!1}this._pts_actived=o},e.prototype.process=function(t){for(var e=this.points,i=0;i<e.length;i++){var n=e[i],o=this._pts_actived[i],r=t>=n.start&&t<=n.end;if(o!=r){var a=r?"enter":"leave";this.emit(a,n,this,t);var s=n["on"+a];"function"==typeof s&&s.call(n,t,this),this._pts_actived[i]=r}}},e}(r.default);e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof Symbol?Symbol():"__@EventListenerList",o=function(){function t(){this[n]={}}return t.prototype.addEventListener=function(t,e){var i=this[n],o=i[t];o?o.push(e):i[t]=[e]},t.prototype.on=function(t,e){this.addEventListener(t,e)},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=this[n][t];if(o&&o.length)for(var r=0;r<o.length;r++){var a=o[r];a.apply(this,e)}},t.prototype.removeEventListener=function(t,e){var i=this[n][t];if(i&&i.length)for(var o=0;o<i.length;o++){var r=i[o];if(r===e)return void i.splice(o,1)}},t.prototype.off=function(t,e){this.removeEventListener(t,e)},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.aratio=t}return t.prototype.fit=function(t,e){if(t===this._old_cw&&e===this._old_ch&&this.aratio===this._old_ar)return!1;this._old_cw=t,this._old_ch=e,this._old_ar=this.aratio;var i=this.aratio;return t/e>i?(this.width=e*i,this.height=e,this.marginX=(t-this.width)/2,this.marginY=0):(this.width=t,this.height=t/i,this.marginX=0,this.marginY=(e-this.height)/2),!0},t.prototype.s2c=function(t,e){return[(t-this.marginX)/this.width,(e-this.marginY)/this.height]},t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.start=t.start,this.end=t.end,this.onclick=t.onclick,this.lt=t.lt,this.rb=t.rb,this._callback=this._callback.bind(this)}return t.prototype._callback=function(t,e,i){var n=this.lt,o=n[0],r=n[1],a=this.rb,s=a[0],c=a[1];t>=o&&t<=s&&e>=r&&e<=c&&this.onclick(t,e,this,i)},t.prototype.onenter=function(t,e){e.addEventListener("tap",this._callback)},t.prototype.onleave=function(t,e){e.removeEventListener("tap",this._callback)},t.prototype.onreset=function(t,e){t&&this.onleave(0,e)},t}();e.default=n},function(t,e){!function(){for(var t=0,e=["","ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+n)},n);return t=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}]);